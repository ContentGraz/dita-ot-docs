<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<!--This file is part of the DITA Open Toolkit project. See the accompanying LICENSE.md file for applicable licenses.-->

<reference id="plugin-configfile" xml:lang="en-US">
  <title>Plug-in descriptor file</title>
  <shortdesc>The plug-in descriptor file (<filepath>plugin.xml</filepath>) controls all aspects of a plug-in, making
    each extension visible to the rest of the toolkit. The file uses pre-defined extension points to locate changes, and
    then integrates those changes into the core DITA-OT code.</shortdesc>
  <refbody>
    <section>
      <p>The root element of the <filepath>plugin.xml</filepath> file is <xmlelement>plugin</xmlelement>. The
          <xmlelement>plugin</xmlelement> element must specify an <xmlatt>id</xmlatt> attribute. The <xmlatt>id</xmlatt>
        attribute is used to identify the plug-in; it also is used to identify whether prerequisite plug-ins are
        available. The value of the <xmlatt>id</xmlatt> attribute must take the following form:</p>
      <ul>
        <li>One or more tokens, separated by periods</li>
        <li>A token can be composed of the following characters:<ul>
            <li>Numerals (0-9)</li>
            <li>Lower-case letters (a-z)</li>
            <li>Upper-case letters (A-Z)</li>
            <li>Underscores (_)</li>
            <li>Hyphens (-)</li>
          </ul></li>
      </ul>
      <!--<codeblock>id    ::= token('.'token)*
token ::= ( [0..9] | [a..zA..Z] | ’_’ | ’-’ )+</codeblock>-->
      <draft-comment author="Kristen Eberlein" time="13 May 2013">Perhaps all the following tables should have a Data
        type column? That would match with the DITA spec; also, it seems as if some attributes must take a predefined
        set of values.</draft-comment>
      <p>The <xmlelement>plugin</xmlelement> element can contain the following child elements: </p>
      <dl>
        <dlentry>
          <dt><xmlelement>feature</xmlelement></dt>
          <dd>
            <p>An optional element that defines the extension to the DITA-OT.</p>
            <p>The following attributes are supported:</p><simpletable keycol="1">
              <sthead>
                <stentry>Attribute</stentry>
                <stentry>Description</stentry>
                <stentry>Required?</stentry>
              </sthead>
              <strow>
                <stentry>extension</stentry>
                <stentry>Name of the DITA-OT extension point</stentry>
                <stentry>Yes</stentry>
              </strow>
              <strow>
                <stentry>value</stentry>
                <stentry>Comma separated string value of the extension</stentry>
                <stentry>Either the <xmlatt>value</xmlatt> or <xmlatt>file</xmlatt> attribute must be
                  specified</stentry>
              </strow>
              <strow>
                <stentry>file</stentry>
                <stentry>File name, relative to the <filepath>plugin.xml</filepath> file</stentry>
                <stentry>Either the <xmlatt>value</xmlatt> or <xmlatt>file</xmlatt> attribute must be
                  specified</stentry>
              </strow>
              <strow>
                <stentry>type</stentry>
                <stentry>Type of the <xmlatt>value</xmlatt> attribute</stentry>
                <stentry>No</stentry>
              </strow>
            </simpletable></dd>
        </dlentry>
        <dlentry>
          <dt><xmlelement>extension-point</xmlelement></dt>
          <dd>
            <p>An optional element that defines a new extension point that can be used by other DITA-OT plug-ins.</p>
            <p>The following attributes are supported:</p><simpletable keycol="1">
              <sthead>
                <stentry>Attribute</stentry>
                <stentry>Description</stentry>
                <stentry>Required?</stentry>
              </sthead>
              <strow>
                <stentry>id</stentry>
                <stentry>Extension point identifier</stentry>
                <stentry>Yes</stentry>
              </strow>
              <strow>
                <stentry>name</stentry>
                <stentry>Extension point description</stentry>
                <stentry>No</stentry>
              </strow>
            </simpletable>
          </dd>
        </dlentry>
        <dlentry>
          <dt><xmlelement>require</xmlelement></dt>
          <dd>
            <p>An optional element that defines plug-in dependencies.</p>
            <p>The following attributes are supported:</p><simpletable keycol="1">
              <sthead>
                <stentry>Attribute</stentry>
                <stentry>Description</stentry>
                <stentry>Required?</stentry>
              </sthead>
              <strow>
                <stentry>plugin</stentry>
                <stentry>A vertical-bar separated list of plug-ins that are required </stentry>
                <stentry>Yes</stentry>
              </strow>
              <strow>
                <stentry>importance</stentry>
                <stentry>Identifies whether plug-in is required or optional</stentry>
                <stentry>No</stentry>
              </strow>
            </simpletable></dd>
        </dlentry>
        <dlentry>
          <dt><xmlelement>template</xmlelement></dt>
          <dd>
            <p>An optional element that defines files that should be treated as templates.</p>
            <p>The following attributes are supported: </p><simpletable keycol="1">
              <sthead>
                <stentry>Attribute</stentry>
                <stentry>Description</stentry>
                <stentry>Required?</stentry>
              </sthead>
              <strow>
                <stentry>file</stentry>
                <stentry>Name and path to the template file, relative to the <filepath>plugin.xml</filepath>
                  file</stentry>
                <stentry>Yes</stentry>
              </strow>
            </simpletable>
          </dd>
        </dlentry>
        <dlentry>
          <dt><xmlelement>meta</xmlelement></dt>
          <dd>
            <p>An optional element that defines metadata.</p>
            <p>The following attributes are supported:</p><simpletable keycol="1">
              <sthead>
                <stentry>Attribute</stentry>
                <stentry>Description</stentry>
                <stentry>Required?</stentry>
              </sthead>
              <strow>
                <stentry>type</stentry>
                <stentry>Metadata name </stentry>
                <stentry>Yes</stentry>
              </strow>
              <strow>
                <stentry>value</stentry>
                <stentry>Metadata value</stentry>
                <stentry>Yes</stentry>
              </strow>
            </simpletable></dd>
        </dlentry>
        <dlentry>
          <dt><xmlelement>transtype</xmlelement></dt>
          <dd>
            <p>An optional element that defines a new output format (transformation type).</p>
            <p>The following attributes are supported:</p>
            <simpletable keycol="1">
              <sthead>
                <stentry>Attribute</stentry>
                <stentry>Description</stentry>
                <stentry>Required?</stentry>
              </sthead>
              <strow>
                <stentry>name</stentry>
                <stentry>Transformation name</stentry>
                <stentry>Yes</stentry>
              </strow>
              <strow>
                <stentry>desc</stentry>
                <stentry>Transformation type description</stentry>
                <stentry>No</stentry>
              </strow>
              <strow>
                <stentry>abstract</stentry>
                <stentry>Defines an abstract transformation type that cannot be used directly</stentry>
                <stentry>No</stentry>
              </strow>
              <strow>
                <stentry>extends</stentry>
                <stentry>Specifies the name of the transformation type being extended</stentry>
                <stentry>No</stentry>
              </strow>
            </simpletable>
            <p>The <xmlelement>transtype</xmlelement> element may define additional parameters for the transformation
              type using <xmlelement>param</xmlelement> child elements.</p>
            <p>The following parameter attributes are supported:</p>
            <simpletable keycol="1">
              <sthead>
                <stentry>Attribute</stentry>
                <stentry>Description</stentry>
                <stentry>Required?</stentry>
              </sthead>
              <strow>
                <stentry>name</stentry>
                <stentry>Parameter name</stentry>
                <stentry>Yes</stentry>
              </strow>
              <strow>
                <stentry>desc</stentry>
                <stentry>Parameter description</stentry>
                <stentry>No</stentry>
              </strow>
              <strow>
                <stentry>type</stentry>
                <stentry>Parameter type (<option>enum</option>, <option>file</option>,
                  <option>string</option>)</stentry>
                <stentry>Yes</stentry>
              </strow>
            </simpletable>
            <p>Enumeration parameters (<xmlelement>param</xmlelement> elements of type <option>enum</option>) define
              enumeration values with <xmlelement>val</xmlelement> child elements.</p>
            <p>The following attributes are supported:</p>
            <simpletable keycol="1">
              <sthead>
                <stentry>Attribute</stentry>
                <stentry>Description</stentry>
                <stentry>Required?</stentry>
              </sthead>
              <strow>
                <stentry>default</stentry>
                <stentry>Defines an enumeration value as the default value (default="true")</stentry>
                <stentry>Yes</stentry>
              </strow>
            </simpletable>
          </dd>
        </dlentry>
      </dl>
      <p>Any extension that is not recognized by the DITA-OT is ignored. Since DITA-OT version 1.5.3, you can combine
        multiple extension definitions within a single <filepath>plug-in.xml</filepath> file; in older versions, only
        the last extension definition was used. </p>
    </section>
  </refbody>
</reference>

