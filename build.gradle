plugins {
    id 'com.github.eerohele.dita-ot-gradle' version '0.3.1'
}

ditaOt.dir System.getProperty('dita.home', '../')

afterEvaluate {
  task pdf << {
      dita.antBuilder.execute {
        ant(antfile: 'build.xml', target: 'pdf')
      }
  }

  task html << {
      dita.antBuilder.execute {
        ant(antfile: 'build.xml', target: 'html')
      }
  }

  task htmlhelp << {
      dita.antBuilder.execute {
        ant(antfile: 'build.xml', target: 'htmlhelp')
      }
  }

  task clean << {
      dita.antBuilder.execute {
        ant(antfile: 'build.xml', target: 'clean')
      }
  }

  task all(dependsOn: ['pdf', 'html', 'htmlhelp'])

  task dist(dependsOn: ['pdf', 'html'])
}

defaultTasks 'dist'
